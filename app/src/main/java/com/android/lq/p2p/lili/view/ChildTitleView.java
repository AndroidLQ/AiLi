package com.android.lq.p2p.lili.view;import android.app.Activity;import android.content.Context;import android.graphics.drawable.Drawable;import android.util.AttributeSet;import android.view.View;import android.widget.RelativeLayout;import android.widget.TextView;import com.android.lq.p2p.lili.R;/** * 子界面(二级界面)的Title * * @author lilijun */public class ChildTitleView extends RelativeLayout {    private Context context;    private View contentView;    private RelativeLayout childTitleLayout;    /**     * 带箭头的标题     */    public TextView backImg,right_tx,center_title_tx;    public RelativeLayout rightView;    public View line;    public ChildTitleView(Context context, AttributeSet attrs, int defStyle) {        super(context, attrs, defStyle);        init(context);    }    public ChildTitleView(Context context, AttributeSet attrs) {        super(context, attrs);        init(context);    }    public ChildTitleView(Context context) {        super(context);        init(context);    }    private void init(Context c) {        context = c;        contentView = View.inflate(context, R.layout.child_title_lay, this);        childTitleLayout = (RelativeLayout) contentView.findViewById(R.id.child_title_lay_layout);        center_title_tx = (TextView) contentView.findViewById(R.id.child_title_download_img);        backImg = (TextView) contentView.findViewById(R.id.child_title_lay);        // 返回按钮        backImg.setOnClickListener(new OnClickListener() {            @Override            public void onClick(View v) {                // 结束当前界面                ((Activity) context).finish();            }        });        line = contentView.findViewById(R.id.child_title_line);        rightView = (RelativeLayout) contentView                .findViewById(R.id.child_title_right_lay);        right_tx = (TextView) contentView.findViewById(R.id.title_right_tx);        setBackgroundResource();    }    public void setBackgroundResource() {        contentView.setBackgroundColor(0xfffbfbfb);        line.setBackgroundColor(0xffd5d5d5);        backImg.setTextColor(0xff484848);    }    public void setOnBackListener(OnClickListener l) {        backImg.setOnClickListener(null);        backImg.setOnClickListener(l);    }    /**     * 设置返回箭头背景     *     * @param resourceId 资源ID     */    public void setBackArrow(int resourceId) {        Drawable drawable = getResources().getDrawable(resourceId);        drawable.setBounds(0, 0, drawable.getMinimumWidth(),                drawable.getMinimumHeight());        backImg.setCompoundDrawables(drawable, null, null, null);    }    /**     * 设置整个标题栏布局的背景色     *     * @param color 颜色ID     */    public void setAllBackgroundColor(int color) {        childTitleLayout.setBackgroundColor(color);    }    /**     * 设置整个标题栏布局的高度     *     * @param h 高度     */    public void setAllHeight(int h) {        LayoutParams params = new LayoutParams(                LayoutParams.FILL_PARENT, h);        childTitleLayout.setLayoutParams(params);    }    /**     * 设置标题名称     *     * @param title     */    public void setTitle(String title) {        backImg.setText(title);    }    /**     * 设置标题     * @param centerTitle     */    public void setCenterTitle(String centerTitle){        center_title_tx.setText(centerTitle);    }    /**     * 设置标题显示或者隐藏     * @param isvisable     */    public void setCenterTitleVisibility(boolean isvisable){        if(isvisable){            center_title_tx.setVisibility(View.VISIBLE);        }else{            center_title_tx.setVisibility(View.GONE);        }    }    /**     * 设置右边textview文字     * @param rightStr     */    public void setRightText(String rightStr){        right_tx.setText(rightStr);    }    /**     * 设置标题名称字体颜色     *     * @param color 颜色ID     */    public void setTitleColor(int color) {        backImg.setTextColor(color);    }    /**     * 设置右边的视图     *     * @param view     */    public void setRightView(View view) {        LayoutParams params = new LayoutParams(LayoutParams.WRAP_CONTENT,                LayoutParams.MATCH_PARENT);        params.addRule(RelativeLayout.CENTER_VERTICAL);        view.setLayoutParams(params);        rightView.removeAllViews();        rightView.addView(view);    }    /**     *设置右边view监听器     * @param l     */    public void setRightViewListener(OnClickListener l){        right_tx.setOnClickListener(l);    }    /**     * 设置右边视图隐藏     */    public void setRightViewVisibility() {        rightView.setVisibility(View.GONE);    }    /**     * 左边back视图     */    public void setLightViewVisibility(){        backImg.setVisibility(View.GONE);    }    /**     * 设置右边视图隐藏     */    public void setRightViewVisibility(boolean isVisible) {        if (isVisible) {            rightView.setVisibility(View.VISIBLE);        } else {            rightView.setVisibility(View.GONE);        }    }    /**     * 设置标题最下方线的Visibility     *     * @param visibility View.GONE View.VISIBLE     */    public void setLineVisibility(int visibility) {        line.setVisibility(visibility);    }}